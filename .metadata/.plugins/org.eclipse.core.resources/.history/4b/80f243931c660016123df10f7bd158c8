package drivers;
/**
 * The EPackageOridinalList class stores the order in which EPackage EClasses and their structural 
 * features appear. The first EClass in the EPackage will have ordinality 0, likewise the first
 * EStructural feature of the first EClass will have ordinality 0. For compaction, 
 * EStructural features have ID's of the form XY. Where X = ordinality of parent EClass within 
 * EPackage and Y = ordinality of feature within EClass.
 */
import java.util.HashMap;
import java.util.Map;

import com.google.common.collect.BiMap;
import com.google.common.collect.HashBiMap;

public class EPackageOrdinalList 
{
	private BiMap<String, Integer> classNamesMap = HashBiMap.create();
	private BiMap <String, Integer> featureNamesMap = HashBiMap.create();
	
	int featureCount = 0;
	int classCount = 0;
	
	public void addEClassName(String className)
	{
		classNamesMap.put(className, classCount);
		classCount = classCount + 1;
	}
	
	public int getEClassID(String className)
	{
		return classNamesMap.get(className);
	}
	
	public String getEClassName(int id)
	{
		return classNamesMap.inverse().get(id);
	}
	
	public void addEStructuralFeatureName(String featureName)
	{
		if(featureNamesMap.get(featureName) == null)
		{
			featureNamesMap.put(featureName, featureCount);
			featureCount = featureCount + 1;
		}
	}
	
	public String getEStructuralFeatureName(int featureID)
	{
		return featureNamesMap.inverse().get(featureID);
	}
	
	public double getEStructuralFeatureID(String featureName)
	{
		return featureNamesMap.get(featureName);
	}
}

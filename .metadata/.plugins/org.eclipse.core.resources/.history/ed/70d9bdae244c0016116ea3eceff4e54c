package change;

import java.util.ArrayList;
import java.util.List;
import java.util.UUID;


public class ChangeLog 
{
	//public static final ChangeLog INSTANCE = new ChangeLog();
	
	
	private List<AbstractEntry> eventsList = new ArrayList<AbstractEntry>();

	public void addEvent(AbstractEntry entry)
	{
		eventsList.add(entry);
	}
	
	public List<AbstractEntry> getEventsList()
	{
		return eventsList;
	}
	
	public void sortChangeLog(List<AbstractEntry> list)
	{
		UUID currentObject;
		
		
	}
	
	public void showLogEntries(List<AbstractEntry> list)
	{
		for(AbstractEntry e : list)
		{
			if(e instanceof InitialEntry)
			{
				//System.out.println("InitialEntry:");
				System.out.println("NamespaceURI = "+e.getEObject().eClass().getEPackage().getNsURI());
				
			}
			if(e instanceof NewObjectEntry)
			{
				//System.out.println("NewObjectEntry:");
				System.out.println("CREATE "+e.getEObject().eClass().getName()+" "+e.getUUID().toString());
			}
			if(e instanceof SetAttributeEntry)
			{
				SetAttributeEntry s = (SetAttributeEntry)e;
				//System.out.println("Set Attribute Entry");
				System.out.println("SET " + e.getEObject().eClass().getName()+" "+e.getUUID()+" "+s.geteAttribute().getName());
			}
		}
	}
	
	public void showLogEntries()
	{
		showLogEntries(eventsList);
	}
}
